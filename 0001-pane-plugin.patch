From 300b22178b10940bc911fb655aa8a2c7946d7963 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Pawe=C5=82=20Marciniak?= <sunwire+git@gmail.com>
Date: Sat, 29 Jan 2022 09:52:15 +0100
Subject: [PATCH 3/4] pane plugin use XDG_CONFIG_HOME path when is set

---
 plugins/pane.plugin | 2 +-
 plugins/pane.py     | 8 +++++---
 2 files changed, 6 insertions(+), 4 deletions(-)

diff --git a/plugins/pane.plugin b/plugins/pane.plugin
index a0df2abb..d14a8248 100644
--- a/plugins/pane.plugin
+++ b/plugins/pane.plugin
@@ -5,4 +5,4 @@ IAge=2
 Name=Pane position workaround
 Description=Set pane position, workaround.
 Authors=Paweł Marciniak
-Copyright=Copyright © 2021 Paweł Marciniak
+Copyright=Copyright © 2021-2022 Paweł Marciniak
diff --git a/plugins/pane.py b/plugins/pane.py
index 7317acfe..84f9465b 100644
--- a/plugins/pane.py
+++ b/plugins/pane.py
@@ -12,7 +12,8 @@ GNU Lesser General Public License for more details.
 You should have received a copy of the GNU Lesser General Public License
 along with this program.  If not, see <https://www.gnu.org/licenses/>.
 """
-import pathlib
+import os
+from pathlib import Path
 import gettext
 from threading import Thread
 from time import sleep
@@ -31,8 +32,9 @@ FILE_CONFIG = 'pane.conf'
 
 
 def get_path():
-    return pathlib.Path.joinpath(pathlib.Path.home(),
-                                 ".config/liferea/plugins/pane")
+    config_path = "liferea/plugins/pane"
+    config_home = os.getenv('XDG_CONFIG_HOME',Path.joinpath(Path.home(), ".config"))
+    return Path.joinpath(Path(config_home), config_path)
 
 
 class PaneWorkaroundPlugin(GObject.Object, Liferea.ShellActivatable):
-- 
2.35.0

